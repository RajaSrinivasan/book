\lstset{language=Ada, caption=impl.adb: Patterns for codemd markup}
\begin{tcolorbox}[width=\linewidth, sharp corners=all, colback=white!95!black]
\begin{lstlisting}[frame=single, numbers=left, numbersep=5pt, firstnumber= 11]
    cmdid : constant String := "codemd" & ":" ;
    beginpat : Pattern_Matcher := 
         Compile(cmdid 
                 & " +begin" 
                 & " +segment=([a-zA-Z0-9]+)"
                 & " +caption=([a-zA-Z0-9 ]+)" ) ;
    endpat : Pattern_Matcher := Compile(cmdid 
                                       & " +end") ;
    skippat : Pattern_Matcher := Compile(cmdid 
                                        & " +skip");
    skipendpat : Pattern_Matcher := Compile(cmdid 
                                            & " +end"
                                            & " +skip");
\end{lstlisting}
\end{tcolorbox}
